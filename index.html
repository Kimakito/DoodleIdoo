<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DoodleIdoo | Portfolio Créatif et Illustrations Originales</title>
    <meta name="description" content="Découvrez l'univers créatif de DoodleIdoo : portfolio d'œuvres uniques, illustrations originales et projets artistiques. Contactez-moi pour l'acquisition ou des collaborations.">

    <meta property="og:title" content="DoodleIdoo | Portfolio Créatif et Illustrations Originales">
    <meta property="og:description" content="Découvrez l'univers créatif de DoodleIdoo : portfolio d'œuvres uniques, illustrations originales et projets artistiques. Contactez-moi pour l'acquisition ou des collaborations.">
    <meta property="og:image" content="assets/images/thewitcher2.jpg"> <meta property="og:url" content="[URL_DE_TON_SITE]"> <meta property="og:type" content="website">
    <meta property="og:locale" content="fr_FR">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="DoodleIdoo | Portfolio Créatif et Illustrations Originales">
    <meta name="twitter:description" content="Découvrez l'univers créatif de DoodleIdoo : portfolio d'œuvres uniques, illustrations originales et projets artistiques. Contactez-moi pour l'acquisition ou des collaborations.">
    <meta name="twitter:image" content="assets/images/thewitcher2.jpg">

    <link rel="stylesheet" href="output.css" />
    
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/logo_doodleIdoo.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/logo_doodleIdoo.ico" />
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/logo_doodleIdoo.ico" />
    <link rel="mask-icon" href="./assets/logo_doodleIdoo.ico" color="#5bbad5" />
    <meta name="msapplication-TileImage" content="./assets/logo_doodleIdoo.ico" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="theme-color" content="#ffffff" />
    
    <link rel="stylesheet" href="/assets/icomoon/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;800&family=K2D:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
  </head>
  <body class="font-k2d text-white bg-darkviolet-900 overflow-x-hidden">
    <nav
      class="fixed w-full top-0 z-50 bg-darkviolet-900/80 backdrop-blur-sm shadow-lg transition-all duration-300 py-4"
      id="navbar"
      role="navigation"
      aria-label="Menu principal"
    >
      <div class="max-w-7xl mx-auto px-6 flex justify-between items-center">
        <a href="#home" class="flex items-center space-x-2" aria-label="Retour à l'accueil">
          <img
            src="./assets/logo_doodleIdoo.ico"
                alt="Illustration abstraite doodleidoo"
            class="h-10 w-auto"
          />
          <span class="text-2xl font-extrabold text-contrastyellow-400"
            >DoodleIdoo</span
          >
        </a>
        <div class="hidden md:flex space-x-8">
          <a
            href="#home"
            class="text-darkviolet-200 hover:text-contrastyellow-400 transition-colors duration-200 text-lg font-bold"
            >Accueil</a
          >
          <a
            href="#portfolio"
            class="text-darkviolet-200 hover:text-contrastyellow-400 transition-colors duration-200 text-lg font-bold"
            >Portfolio</a
          >
          <a
            href="#about"
            class="text-darkviolet-200 hover:text-contrastyellow-400 transition-colors duration-200 text-lg font-bold"
            >À Propos</a
          >
          <a
            href="#contact"
            class="text-darkviolet-200 hover:text-contrastyellow-400 transition-colors duration-200 text-lg font-bold"
            >Contact</a
          >
        </div>
        <button
          id="mobile-menu-button"
          class="md:hidden text-darkviolet-200 hover:text-contrastyellow-400 focus:outline-none focus:text-contrastyellow-400 focus:ring-2 focus:ring-contrastyellow-400"
          aria-controls="mobile-menu"
          aria-expanded="false"
          aria-label="Ouvrir le menu de navigation mobile"
        >
          <span class="icon-menu text-3xl"></span>
        </button>
      </div>
      <div
        id="mobile-menu"
        class="hidden md:hidden bg-darkviolet-900/95 pt-4 pb-2"
        role="menu"
        aria-labelledby="mobile-menu-button"
      >
        <a
          href="#home"
          class="block py-2 px-6 text-darkviolet-100 hover:bg-darkviolet-800 hover:text-contrastyellow-400 transition-colors duration-200 text-center text-lg font-bold"
          role="menuitem"
          >Accueil</a
        >
        <a
          href="#portfolio"
          class="block py-2 px-6 text-darkviolet-100 hover:bg-darkviolet-800 hover:text-contrastyellow-400 transition-colors duration-200 text-center text-lg font-bold"
          role="menuitem"
          >Portfolio</a
        >
        <a
          href="#about"
          class="block py-2 px-6 text-darkviolet-100 hover:bg-darkviolet-800 hover:text-contrastyellow-400 transition-colors duration-200 text-center text-lg font-bold"
          role="menuitem"
          >À Propos</a
        >
        <a
          href="#contact"
          class="block py-2 px-6 text-darkviolet-100 hover:bg-darkviolet-800 hover:text-contrastyellow-400 transition-colors duration-200 text-center text-lg font-bold"
          role="menuitem"
          >Contact</a
        >
      </div>
    </nav>

    <header
      id="home"
      class="relative flex flex-col items-center justify-center text-center min-h-screen overflow-hidden pt-20"
      role="banner"
    >
      <div
        class="absolute inset-0 bg-gradient-to-br from-darkviolet-900 via-darkviolet-800 to-darkviolet-700 opacity-90 animate-bg-pan"
      ></div>
      <div
        class="absolute inset-0 bg-cover bg-center opacity-10 parallax-bg"
        style="background-image: url('./assets/images/bg_drawing_pattern.png')"
        aria-hidden="true"
      ></div>
      <div class="hero-overlay absolute inset-0 bg-black opacity-30" aria-hidden="true"></div>

      <div
        class="relative z-10 p-8 max-w-5xl mx-auto flex flex-col items-center justify-center"
      >
        <h1
          class="text-6xl sm:text-7xl md:text-8xl font-extrabold leading-tight text-white drop-shadow-2xl animate-fade-in-up animation-delay-0 py-16"
          data-aos="fade-up"
          data-aos-duration="1000"
        >
          <span class="block">DoodleIdoo</span>
          <span
            class="block text-contrastyellow-400 mt-4 relative after:content-[''] after:absolute after:bottom-0 after:left-1/2 after:-translate-x-1/2 after:w-0 after:h-1.5 after:bg-contrastyellow-500 after:rounded-full after:transition-all after:duration-500 hover:after:w-full"
            >Mon Univers Créatif.</span
          >
        </h1>
        <p
          class="mt-8 text-xl md:text-2xl text-darkviolet-200 drop-shadow-md animate-fade-in-up animation-delay-200"
          data-aos="fade-up"
          data-aos-delay="400"
          data-aos-duration="1000"
        >
          Explorez des œuvres uniques qui éveillent les sens et racontent des
          histoires.
        </p>
        <a
          href="#portfolio"
          class="mt-12 inline-block bg-contrastyellow-500 text-darkviolet-900 font-bold py-4 px-10 rounded-full text-lg uppercase tracking-wider transition-all duration-300 hover:bg-white hover:scale-105 shadow-2xl animate-fade-in-up animation-delay-400"
          data-aos="fade-up"
          data-aos-delay="600"
          data-aos-duration="1000"
        >
          Découvrir le Portfolio
        </a>
      </div>
    </header>

    <section
      id="portfolio"
      class="py-24 bg-purple-800 text-center text-white"
      data-aos="fade-up"
    >
      <div class="max-w-7xl mx-auto px-6">
        <h2
          class="text-5xl font-bold mb-16 text-yellow-400"
          data-aos="fade-down"
        >
          Mes Dernières Créations & Mon Univers
        </h2>
        <p class="text-xl text-darkviolet-200 mb-12 font-jakarta">
          Si une œuvre vous plaît et que vous souhaitez adopter une de mes
          créations,
          <a class="underline font-bold" href="#contact">contactez-moi !</a>
        </p>

        <div class="swiper mySwiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <img
                src="assets/images/20250528_084009.jpg"
                alt="Illustration abstraite doodleidoo"
                class="w-full h-auto object-cover"
                loading="lazy"
              />
            </div>
            <div class="swiper-slide">
              <img
                src="assets/images/20250528_211545.jpg"
                alt="Illustration abstraite doodleidoo"
                class="w-full h-auto object-cover"
                loading="lazy"
              />
            </div>
            </div>
          <div class="swiper-pagination"></div>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
        </div>
      </div>
    </section>

    <section
      id="instagram-feed-section"
      class="py-24 bg-darkviolet-900"
      data-aos="fade-up"
    >
      <div class="max-w-7xl mx-auto px-6 text-center">
        <h2
          class="text-4xl md:text-5xl font-bold mb-12 text-contrastyellow-400"
          data-aos="fade-down"
          data-aos-delay="100"
        >
          En direct d'Instagram
        </h2>
        <div
          id="instagram-feed-loading"
          role="status"
          aria-live="polite"
          class="text-contrastyellow-200 text-lg mb-8"
          style="display: none"
        >
          Chargement des publications...
          <span class="icon-spinner animate-spin ml-2"></span>
        </div>
        <div
          id="instagram-feed-error"
          role="alert"
          aria-live="assertive"
          class="text-red-500 text-lg mb-8"
          style="display: none"
        >
          Impossible de charger le flux Instagram. Veuillez réessayer plus tard.
        </div>
        <div
          id="instagram-feed"
          class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 justify-items-center"
        ></div>
        <a
          href="https://www.instagram.com/doodleidoo_73"
          target="_blank"
          rel="noopener noreferrer"
          class="mt-12 inline-flex items-center bg-contrastyellow-500 text-darkviolet-900 font-bold py-3 px-8 rounded-full text-md uppercase tracking-wider transition-all duration-300 hover:bg-white hover:scale-105 shadow-lg"
          data-aos="zoom-in"
          data-aos-delay="200"
        >
          Voir plus sur Instagram
          <span class="icon-instagram ml-2 text-lg"></span>
        </a>
      </div>
    </section>

    <section
      id="contact"
      class="py-24 bg-darkviolet-500 text-center"
      data-aos="fade-up"
    >
      <div class="max-w-2xl mx-auto px-6">
        <h2
          class="text-5xl font-bold mb-12 text-contrastyellow-500"
          data-aos="fade-down"
        >
          Contactez-moi
        </h2>
        <p
          class="text-xl text-darkviolet-200 mb-12 font-jakarta"
          data-aos="fade-up"
          data-aos-delay="100"
        >
          Des questions sur une œuvre, une idée de collaboration, ou simplement
          un mot doux ? Écrivez-moi !
        </p>

        <form
          data-netlify="true"
          name="contact"
          method="POST"
          class="bg-darkviolet-900 p-8 rounded-lg shadow-xl border-t-8 border-contrastyellow-500"
          data-aos="zoom-in"
          data-aos-delay="200"
        >
          <div class="mb-6 text-left">
            <label
              for="name"
              class="block text-darkviolet-200 text-lg font-jakarta font-medium mb-2"
              >Votre Nom</label
            >
            <input
              type="text"
              id="name"
              name="name"
              required
              autocomplete="name"
              class="w-full p-4 rounded-md bg-darkviolet-900 border-2 border-darkviolet-500 focus:border-contrastyellow-500 text-white placeholder-darkviolet-400 transition-all duration-300 focus:ring-2 focus:ring-contrastyellow-500"
            />
          </div>
          <div class="mb-6 text-left">
            <label
              for="email"
              class="block text-darkviolet-200 text-lg font-jakarta font-medium mb-2"
              >Votre Email</label
            >
            <input
              type="email"
              id="email"
              name="email"
              required
              autocomplete="email"
              class="w-full p-4 rounded-md bg-darkviolet-900 border-2 border-darkviolet-500 focus:border-contrastyellow-500 text-white placeholder-darkviolet-400 transition-all duration-300 focus:ring-2 focus:ring-contrastyellow-500"
            />
          </div>
          <div class="mb-6 text-left">
            <label
              for="message"
              class="block text-darkviolet-200 text-lg font-jakarta font-medium mb-2"
              >Votre Message</label
            >
            <textarea
              id="message"
              name="message"
              rows="5"
              required
              class="w-full p-4 rounded-md bg-darkviolet-900 border-2 border-darkviolet-500 focus:border-contrastyellow-500 text-white placeholder-darkviolet-400 transition-all duration-300 focus:ring-2 focus:ring-contrastyellow-500"
            ></textarea>
          </div>
          <button
            type="submit"
            class="bg-contrastyellow-500 text-darkviolet-900 font-bold py-4 px-12 rounded-full uppercase tracking-wider hover:bg-contrastyellow-600 transition-colors duration-300 shadow-lg transform hover:-translate-y-1"
          >
            Envoyer
          </button>
        </form>
      </div>
    </section>
    <footer class="bg-darkviolet-800 py-12 text-center text-darkviolet-200" role="contentinfo">
      <p class="font-jakarta">&copy; 2025 Doodleidoo. Tous droits réservés.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // --- Initialisation de SwiperJS pour les personnages ---
        const swiper = new Swiper(".mySwiper", {
          slidesPerView: 1,
          spaceBetween: 30, // Space between slides
          loop: true, // Continuous loop
          centeredSlides: true, // Centers the active slide when multiple are visible

          // Pagination (dots at the bottom)
          pagination: {
            el: ".swiper-pagination",
            clickable: true,
            // Customize pagination bullet styles using Tailwind classes via CSS
            // You'll need custom CSS for swiper-pagination-bullet styles
          },

          // Navigation arrows
          navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
          },

          // Autoplay
          autoplay: {
            delay: 4000, // 4 seconds
            disableOnInteraction: false, // Continue autoplay even after user interaction
            pauseOnMouseEnter: true, // Pause autoplay when mouse enters the slider
          },

          // Visual effect: Coverflow
          effect: "coverflow",
          coverflowEffect: {
            rotate: 50, // Increased rotation for more dramatic 3D effect
            stretch: 0,
            depth: 100,
            modifier: 1, // Modifier to the rotation and depth
            slideShadows: true, // Add subtle shadows for depth perception
          },

          // Responsive breakpoints
          breakpoints: {
            // When window width is >= 768px (md breakpoint in Tailwind)
            768: {
              slidesPerView: 2,
              spaceBetween: 40, // More space on larger screens
              coverflowEffect: {
                rotate: 40,
                depth: 120,
              },
            },
            // When window width is >= 1024px (lg breakpoint in Tailwind)
            1024: {
              slidesPerView: 3,
              spaceBetween: 50, // Even more space
              coverflowEffect: {
                rotate: 30, // Slightly less rotation for 3 slides
                depth: 150,
              },
            },
          },

          // A11y (Accessibility) settings
          a11y: {
            enabled: true,
            prevSlideMessage: "Diapositive précédente", // Traduction
            nextSlideMessage: "Diapositive suivante", // Traduction
            firstSlideMessage: "Ceci est la première diapositive", // Traduction
            lastSlideMessage: "Ceci est la dernière diapositive", // Traduction
            paginationBulletMessage: "Aller à la diapositive {{index}}", // Traduction
          },

          // Keyboard control for accessibility
          keyboard: {
            enabled: true,
            onlyInViewport: true,
          },

          // Mousewheel control
          mousewheel: {
            enabled: true,
          },
        });
      });
    </script>

    <script>
      // ------------------------------------------
      // 1. Navigation
      // ------------------------------------------
      const navbar = document.getElementById("navbar");
      const mobileMenuButton = document.getElementById("mobile-menu-button");
      const mobileMenu = document.getElementById("mobile-menu");

      // Sticky Navbar on scroll
      window.addEventListener("scroll", () => {
        if (window.scrollY > 50) {
          navbar.classList.add("py-3", "shadow-xl");
          navbar.classList.remove("py-4", "shadow-lg");
        } else {
          navbar.classList.add("py-4", "shadow-lg");
          navbar.classList.remove("py-3", "shadow-xl");
        }
      });

      // Toggle mobile menu
      mobileMenuButton.addEventListener("click", () => {
        const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true';
        mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
        mobileMenu.classList.toggle("hidden");
      });

      // Hide mobile menu when a link is clicked
      mobileMenu.querySelectorAll("a").forEach((link) => {
        link.addEventListener("click", () => {
          mobileMenu.classList.add("hidden");
          mobileMenuButton.setAttribute('aria-expanded', 'false'); // Mettre à jour l'état ARIA
        });
      });

      // Smooth scrolling for anchor links (kept from your original code)
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          document.querySelector(this.getAttribute("href")).scrollIntoView({
            behavior: "smooth",
          });
        });
      });

      // ------------------------------------------
      // 2. Parallax Effect for Background
      // ------------------------------------------
      window.addEventListener("scroll", () => {
        const parallaxBg = document.querySelector(".parallax-bg");
        if (parallaxBg) {
          const scrollPosition = window.pageYOffset;
          parallaxBg.style.transform = `translateY(${scrollPosition * 0.3}px)`; // Adjust 0.3 for more/less effect
        }
      });

      // ------------------------------------------
      // 4. Instagram Feed Script (amélioré)
      // ------------------------------------------
      document.addEventListener("DOMContentLoaded", () => {
        const instagramFeedContainer =
          document.getElementById("instagram-feed");
        const loadingMessage = document.getElementById(
          "instagram-feed-loading"
        );
        const errorMessage = document.getElementById("instagram-feed-error");

        loadingMessage.style.display = "block"; // Show loading message
        instagramFeedContainer.innerHTML = ""; // Clear previous content

        fetch("/.netlify/functions/getInstagram")
          .then((res) => {
            if (!res.ok) {
              throw new Error(`HTTP error! status: ${res.status}`);
            }
            return res.json();
          })
          .then((data) => {
            loadingMessage.style.display = "none"; // Hide loading
            if (data && data.data && Array.isArray(data.data)) {
              data.data.forEach((post) => {
                if (
                  post.media_type === "IMAGE" ||
                  post.media_type === "CAROUSEL_ALBUM" ||
                  post.media_type === "VIDEO" ||
                  post.media_type === "REEL"
                ) {
                  const a = document.createElement("a");
                  a.href = post.permalink;
                  a.target = "_blank";
                  a.rel = "noopener noreferrer";
                  a.classList.add(
                    "block",
                    "relative",
                    "w-full",
                    "pt-[100%]", // 1:1 aspect ratio
                    "overflow-hidden",
                    "rounded-lg",
                    "shadow-lg",
                    "group",
                    "transform",
                    "transition-all",
                    "duration-300",
                    "hover:scale-[1.03]",
                    "hover:shadow-xl",
                    "hover:ring-4",
                    "hover:ring-contrastyellow-500" // New hover effect
                  );

                  let mediaElement;
                  if (
                    post.media_type === "IMAGE" ||
                    post.media_type === "CAROUSEL_ALBUM"
                  ) {
                    mediaElement = document.createElement("img");
                    mediaElement.src = post.media_url;
                    mediaElement.alt = post.caption || "Publication Instagram sans description"; // Alt texte plus explicite pour les images
                    mediaElement.setAttribute("loading", "lazy"); // Lazy loading
                  } else {
                    mediaElement = document.createElement("video");
                    mediaElement.src = post.media_url;
                    mediaElement.controls = false;
                    mediaElement.muted = true;
                    mediaElement.loop = true;
                    mediaElement.preload = "none"; // Préciser 'none' pour ne pas charger la vidéo par défaut
                    mediaElement.setAttribute("aria-label", post.caption || "Vidéo Instagram sans description"); // Accessibilité pour les vidéos
                    
                    // Play/pause video on hover
                    a.addEventListener("mouseenter", () =>
                      mediaElement
                        .play()
                        .catch((e) => console.log("Video play blocked:", e))
                    );
                    a.addEventListener("mouseleave", () =>
                      mediaElement.pause()
                    );
                    // Add play icon for videos/reels
                    const playIcon = document.createElement("span");
                    playIcon.classList.add(
                      "icon-play",
                      "absolute",
                      "inset-0",
                      "flex",
                      "items-center",
                      "justify-center",
                      "text-white/80",
                      "text-6xl",
                      "opacity-0",
                      "group-hover:opacity-100",
                      "transition-opacity",
                      "duration-300"
                    );
                    playIcon.setAttribute("aria-hidden", "true"); // Icône décorative, masquée pour les lecteurs d'écran
                    a.appendChild(playIcon);
                  }

                  mediaElement.classList.add(
                    "absolute",
                    "inset-0",
                    "w-full",
                    "h-full",
                    "object-cover",
                    "transition-transform",
                    "duration-300",
                    "group-hover:scale-110"
                  );
                  a.appendChild(mediaElement);

                  const overlay = document.createElement("div");
                  overlay.classList.add(
                    "absolute",
                    "inset-0",
                    "bg-gradient-to-t",
                    "from-darkviolet-900/70",
                    "to-transparent",
                    "flex",
                    "items-end",
                    "p-4",
                    "opacity-0",
                    "group-hover:opacity-100",
                    "transition-opacity",
                    "duration-300"
                  );

                  if (post.caption && post.caption.trim() !== "") {
                    const caption = document.createElement("p");
                    caption.textContent =
                      post.caption.length > 80
                        ? post.caption.slice(0, 80) + "..."
                        : post.caption;
                    caption.classList.add(
                      "text-white",
                      "text-sm",
                      "font-jakarta",
                      "leading-tight"
                    );
                    overlay.appendChild(caption);
                  }
                  a.appendChild(overlay);
                  instagramFeedContainer.appendChild(a);
                }
              });
            } else {
              errorMessage.style.display = "block"; // Show error
              console.error(
                "Instagram API response data is not an array:",
                data
              );
            }
          })
          .catch((err) => {
            loadingMessage.style.display = "none"; // Hide loading
            errorMessage.style.display = "block"; // Show error
            console.error("Erreur API Instagram :", err);
          });
      });
    </script>
  </body>
</html>